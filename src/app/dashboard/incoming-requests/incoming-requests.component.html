<div class="row">
  <div class="col-lg-12">
    <div class="card">
      <div class="card-body">
        <h4 class="card-title">
        	Your Incoming Requests
        	<a class="btn btn-outline-secondary" style="float: right;" routerLink="/dashboard/request-pickup">
	            <i class="fa fa-plus"></i> Request Pickup
	        </a>
		</h4>

        <ngb-alert *ngIf="responseMessage" type="success" (close)="responseMessage = null">{{ responseMessage }}</ngb-alert>   
        <form class="w-50 m-b-30">
          <input type='text' class="form-control" placeholder='Type to filter' (keyup)='updateFilter($event)' />
        </form>

			<ngx-datatable #mydatatable class="material" 
				[headerHeight]="50" 
        [limit]="20" 
        [columnMode]="'standard'" 
        [scrollbarH]="scrollBarHorizontal"
				[footerHeight]="50" 
				[rowHeight]="'auto'"
        [rows]="requests">
					<ngx-datatable-column name="Date"  prop="created_at">
						<ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-value="value" let-row="row">
							<span>
								{{value}}
							</span>
						</ng-template>
					</ngx-datatable-column>
					<ngx-datatable-column name="Code"  prop="request_code">
						<ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-value="value" let-row="row">
							<span>
								{{value}}
							</span>
						</ng-template>
					</ngx-datatable-column>
					<ngx-datatable-column name="Product">
							<ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-value="value" let-row="row">
								<span>
									{{value.name}}
								</span>
							</ng-template>
					</ngx-datatable-column>
					<ngx-datatable-column name="Batch" prop="product_batch">
							<ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-value="value" let-row="row">
								<span>
									{{value.batch_code}}
								</span>
							</ng-template>
					</ngx-datatable-column>
					<ngx-datatable-column name="Quantity">
						<ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-value="value" let-row="row">
							<span>
								{{value}}
							</span>
						</ng-template>
					</ngx-datatable-column>
					<ngx-datatable-column name="Middleman" prop="requested_by_user">
							<ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-value="value" let-row="row">
								<span>
									{{value.name}}
								</span>
							</ng-template>
					</ngx-datatable-column>
					<ngx-datatable-column name="Status" prop="status">
							<ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-value="value" let-row="row">
								<span class="status_badge">
									{{ statusTranslators.pickupStatus(value) }}
								</span>
							</ng-template>
					</ngx-datatable-column>
					<ngx-datatable-column name="Actions">
						<ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-value="value" let-row="row">
							
							<button md-icon-button (click)="view(row)">
										<i class="fa fa-eye"></i>
								</button>
							<button md-icon-button (click)="delete(row)">
										<i class="fa fa-trash-alt"></i>
								</button>
						</ng-template>
					</ngx-datatable-column>
        </ngx-datatable>
      </div>
    </div>
  </div>
</div>
