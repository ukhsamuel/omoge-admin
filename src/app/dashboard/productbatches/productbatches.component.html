<div class="row">
  <!-- column -->
  <div class="col-lg-12">
    <div class="card">
      <div class="card-body">
        <h4 class="card-title">
        	Manage Products Batches
        	<a class="btn btn-outline-secondary" style="float: right;" routerLink="/dashboard/add-product-batch">
	            <i class="fa fa-plus"></i> Add
	        </a>
		</h4>

        <ngb-alert *ngIf="successMessage" type="success" (close)="successMessage = null">{{ successMessage }}</ngb-alert>   
        <form class="w-50 m-b-30">
          <input type='text' class="form-control" placeholder='Type to filter' (keyup)='updateFilter($event)' />
        </form>

			<ngx-datatable #mydatatable class="material" 
			[headerHeight]="50"  
			[limit]="20" 
			[columnMode]="'standard'" 
			[scrollbarH]="scrollBarHorizontal"
			[loadingIndicator]="isLoading" 
			[footerHeight]="50" 
			[rowHeight]="'auto'"
      [rows]="batches">
				<ngx-datatable-column name="Product">
						<ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-value="value" let-row="row">
							<span>
								{{value.name}}
							</span>
						</ng-template>
				</ngx-datatable-column>
				<ngx-datatable-column name="Batch Code"  prop="batch_code">
					<ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-value="value" let-row="row">
						<span>
							{{value}}
						</span>
					</ng-template>
				</ngx-datatable-column>
				<ngx-datatable-column name="Quantity">
					<ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-value="value" let-row="row">
						<span>
							{{value}}
						</span>
					</ng-template>
				</ngx-datatable-column>
				<ngx-datatable-column name="Manufacture Date"  prop="manufacture_date">
					<ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-value="value" let-row="row">
						<span>
							{{value}}
						</span>
					</ng-template>
				</ngx-datatable-column>
				<ngx-datatable-column name="Expiry Date"  prop="expiry_date">
					<ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-value="value" let-row="row">
						<span>
							{{value}}
						</span>
					</ng-template>
				</ngx-datatable-column>
				<ngx-datatable-column name="Actions">
					<ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-value="value" let-row="row">
							<button class="btn btn-outline-dark btn-sm" md-icon-button (click)="viewQr(row)">
								<i class="mdi mdi-qrcode"></i>
							</button>
							<button class="btn btn-outline-dark btn-sm" md-icon-button (click)="view(row)">
								<i class="fa fa-eye"></i>
							</button>
							<button class="btn btn-outline-dark btn-sm" md-icon-button (click)="edit(row)">
									<i class="fa fa-pencil-alt"></i>
							</button>
							<button class="btn btn-outline-dark btn-sm" md-icon-button (click)="delete(row)">
									<i class="fa fa-trash-alt"></i>
							</button>
					</ng-template>
				</ngx-datatable-column>
      </ngx-datatable>
      </div>
    </div>
  </div>
</div>
